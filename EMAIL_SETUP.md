# הגדרת שליחת מייל – קוד אימות

כדי שהתחברות עם קוד במייל תעבוד, צריך להגדיר **סיסמת אפליקציה** של Gmail לחשבון `quotes.verify1@gmail.com` ולהוסיף אותה לפרויקט.

---

## מה אתה צריך לעשות (בלי צילומי מסך)

### 1. הפעלת אימות דו־שלבי ב־Google

- היכנס לחשבון Google **quotes.verify1@gmail.com**.
- גלוש ל־[הגדרות אבטחה של Google](https://myaccount.google.com/security).
- תחת "כניסה ל־Google" – הפעל **אימות דו־שלבי** (אם עדיין לא מופעל). Google יבקש טלפון לאימות.

### 2. יצירת סיסמת אפליקציה

- באותה דף אבטחה, גלול ל־**סיסמאות אפליקציות** (App passwords).
- אם אתה לא רואה – וודא שאימות דו־שלבי **פעיל**.
- לחץ על "בחירת אפליקציה" → **דוא"ל**.
- "בחירת מכשיר" → **מחשב אחר (שם מותאם)** והקלד למשל: `Quote Builder`.
- לחץ **צור**. Google יציג **סיסמה בת 16 תווים** (למשל: `abcd efgh ijkl mnop`).
- **העתק את הסיסמה** (בלי רווחים או עם – הקוד יקבל את שני הפורמטים).

### 3. הוספת המשתנים לפרויקט

בשורש הפרויקט (ליד `package.json`) צור קובץ בשם **`.env.local`** (או ערוך אותו אם כבר קיים), והוסף את השורות הבאות:

```env
EMAIL_USER=quotes.verify1@gmail.com
EMAIL_APP_PASSWORD=הסיסמה_של_16_התווים_שיצרת
```

- החלף `הסיסמה_של_16_התווים_שיצרת` בסיסמת האפליקציה שהעתקת (אפשר עם או בלי רווחים).
- **אל תעלה את הקובץ ל־Git** – הוא כבר מופיע ב־`.gitignore`.

### 4. הפעלה מחדש של השרת

אחרי שמירת `.env.local`:

- עצור את `npm run dev` (Ctrl+C).
- הרץ שוב: `npm run dev`.

מעכשיו, כשלוחצים "שלח קוד אימות" בדף ההתחברות, המייל אמור להישלח מהחשבון quotes.verify1@gmail.com.

---

## אם משהו לא עובד

- **"שליחת מייל לא מוגדרת"** – וודא ש־`EMAIL_APP_PASSWORD` מופיע ב־`.env.local` ושהשרת הופעל מחדש.
- **מייל לא מגיע** – בדוק בתיקיית דואר זבל; וודא שהאימייל שהזנת נכון.
- **שגיאה מ־Google** – וודא שאימות דו־שלבי פעילשתמשת בסיסמת **אפליקציה** (לא בסיסמת הכניסה הרגילה).

אם תרצה, אפשר לשלוח צילום מסך של הודעת השגיאה (בלי לחשוף את הסיסמה) ואכוון לפי זה.

---

## דף ניהול – רשימת נרשמים

- בכל הרשמה חדשה נשלח **מייל** ל־`EMAIL_USER` (quotes.verify1@gmail.com) עם פרטי הנרשם.
- לצפייה ברשימת כל הנרשמים: גלוש ל־**`/admin`** (למשל `http://localhost:3000/admin`).
- הזן את **סיסמת הניהול** שהגדרת ב־`.env.local` בשדה `ADMIN_SECRET` (למשל `admin123` – עדיף להחליף לסיסמה חזקה משלך).
- אחרי הכניסה תופיע טבלה עם תאריך הרשמה, אימייל ושם משתמש.
